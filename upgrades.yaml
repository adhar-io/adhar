# Upgrade commands between versions are configured in this file, and executed in bash (FROM ubuntu:20.04)
#
# Options:
# - pre: will run before applying all
# - post: will run after applying all
# - releases.*.pre will run just in time before syncing that particular release takes place
# - releases.*.post will run immediately after syncing that particular release
#
# NOTE:
# - $(...) can't be used, but backticks can: `...`
# - go templating can be used, but not inside backticked subcommands
# - no comments allowed as commands get transformed into oneliner TODO: move commands to own scripts
#
# Special case for development:
#
# When a version is set to "dev" it will be selected no matter what. This allows to test an upgrade record's effect.
# (don't forget to set it to the next release version before releasing!)

operations:
  - version: 0.1.30
    pre:
      - upgrades/pre/upgrade-0-1-30.sh || true
